<?xml version="1.0"?>
<robot name="quadruped_arm_robot">
  <link name="base_link">
    <inertial>
      <origin xyz="0  0 0"/>
      <mass value="0.400"/>
      <inertia ixx="0.0003" iyy="0.0003" izz="0.0003" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/Body.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
  </link>
  <!-- IMU primaria -->
  <link name="imu1_link">
    <inertial>
        <origin xyz="0  0 0"/>
        <mass value="0.05"/>
        <inertia ixx="0.0003" iyy="0.0003" izz="0.0003" ixy="0" ixz="0" iyz="0"/>
      </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.005 0.005 0.005"/>
      </geometry>
      <material name="imu1_visual_material">
        <color rgba="0 1 0 0.8"/>
      </material>
    </visual>
   </link>
  <joint name="imu1_fixed_joint" type="fixed">
    <parent link="base_link"/>
    <child  link="imu1_link"/>
    <!-- ajusta xyz y rpy a la posición real de la IMU -->
    <origin xyz="0.12 -0.01 0.05" rpy="0 0 0"/>
  </joint>

  <!-- IMU secundaria -->
  <link name="imu2_link">
    <inertial>
        <origin xyz="0  0 0"/>
        <mass value="0.05"/>
        <inertia ixx="0.0003" iyy="0.0003" izz="0.0003" ixy="0" ixz="0" iyz="0"/>
      </inertial>
          <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.005 0.005 0.005"/>
      </geometry>
      <material name="imu1_visual_material">
        <color rgba="0 1 0 0.8"/>
      </material>
    </visual>
   </link>
  <joint name="imu2_fixed_joint" type="fixed">
    <parent link="base_link"/>
    <child  link="imu2_link"/>
    <!-- ajusta xyz y rpy a la posición real de la segunda IMU -->
    <origin xyz="0.12 -0.05 0.05" rpy="0 0 0"/>
  </joint>
  <!-- Cámara RGB-D -->
  <link name="camera_link">
    <inertial>
        <origin xyz="0  0 0"/>
        <mass value="0.01"/>
        <inertia ixx="0.0003" iyy="0.0003" izz="0.0003" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <!-- un cubo pequeño para visualizar la cámara -->
        <box size="0.04 0.04 0.04"/>
      </geometry>
      <material name="camera_visual_material">
        <color rgba="1 0.5 0 0.8"/>
      </material>
    </visual>
  </link>
  <joint name="camera_fixed_joint" type="fixed">
    <parent link="base_link"/>
    <child  link="camera_link"/>
    <!-- ajusta xyz/rpy para colocarla donde quieras -->
    <origin xyz="0.17 0 0.0" rpy="-1.578 0 -1.578"/>
  </joint>
  
  <link name="frontLeft_hip_motor">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>

    <visual>
    <origin xyz="0.03 0.019 -0.08" rpy="0 0 0"/>
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="0.03 0.019 -0.08" rpy="0 0 0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="frontLeft_hip_motor_joint" type="revolute">
    <parent link="base_link"/>
    <child  link="frontLeft_hip_motor"/>
    <origin xyz="0.15 0.03 0.03" rpy="0 1.5708 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="frontLeft_knee">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="frontLeft_knee_joint" type="revolute">
    <parent link="frontLeft_hip_motor"/>
    <child  link="frontLeft_knee"/>
    <origin xyz="0.030 0.055 -0.015" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.57" upper="1.57" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>
  <link name="frontLeft_connector">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
  </link>
  <joint name="frontLeft_connectorJoin" type="fixed">
    <parent link="frontLeft_knee"/>
    <child  link="frontLeft_connector"/>
    <origin xyz="0.05 0 0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
  </joint> 

  <link name="frontLeft_ankle_fixed">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01384  0.01866  -0.07289" rpy="-0.08910  0.080  0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
  </link>
  <joint name="frontLeft_ankle_joint_fixed" type="fixed">
    <parent link="frontLeft_connector"/>
    <child  link="frontLeft_ankle_fixed"/>
    <origin xyz="0.07 0 0" rpy="-0.0032  0  1.5"/>

  </joint>
  <!-- enlace del tobillo trasero derecho -->
  <link name="frontLeft_ankle">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.05"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <!-- esfera de radio ligeramente mayor para evitar que penetre el suelo -->
        <sphere radius="0.015"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

  <!-- junta del tobillo trasero derecho -->
  <joint name="frontLeft_ankle_joint" type="revolute">
    <parent link="frontLeft_connector"/>
    <child  link="frontLeft_ankle"/>
    <origin xyz="0.07 0 0" rpy="-0.0032 0 3"/>
    <axis  xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="15" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
      <soft_lower_limit>-3.0</soft_lower_limit>
      <soft_upper_limit> 3.0</soft_upper_limit>
      <k_position>50.0</k_position>
      <k_velocity>10.0</k_velocity>
    </safety>
  </joint>
  

  <link name="frontLeft_foot">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
    <inertia ixx="2e-5" iyy="2e-5" izz="2e-5" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_3.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
  </link>
  <joint name="frontLeft_foot_joint" type="fixed">
    <parent link="frontLeft_ankle"/>
    <child  link="frontLeft_foot"/>
    <origin xyz="-0.04  0 0" />
    <dynamics damping="0.05" friction="2.5"/>
     
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>
 
  <link name="frontRight_hip_motor">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="0.03 0.005 -0.08" rpy="0 0 0"/>
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_7y.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="0.03 -0.005 -0.08" rpy="0 0 0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_7y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="frontRight_hip_motor_joint" type="revolute">
    <parent link="base_link"/>
    <child  link="frontRight_hip_motor"/>
    <origin xyz="0.15 -0.085 0.03" rpy="0 1.5708 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="frontRight_knee">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="frontRight_knee_joint" type="revolute">
    <parent link="frontRight_hip_motor"/>
    <child  link="frontRight_knee"/>
    <origin xyz="0.035 -0.045 -0.01" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.57" upper="1.57" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="frontRight_connector">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
  </link>
  <joint name="frontRight_connectorJoin" type="fixed">
    <parent link="frontRight_knee"/>
    <child  link="frontRight_connector"/>
    <origin xyz="0.05 0 0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
  </joint> 


  <link name="frontRight_ankle_fixed">

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01384  0.01866  -0.07289" rpy="-0.08910  0.080  0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    </link>
  <joint name="frontRight_ankle_joint_fixed" type="fixed">
    <parent link="frontRight_connector"/>
    <child  link="frontRight_ankle_fixed"/>
    <origin xyz="0.07 0 0" rpy="-0.0032  0  1.5"/>
    <axis xyz="0 0 1"/>

  </joint>
  <!-- enlace del tobillo trasero derecho -->
  <link name="frontRight_ankle">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.05"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <!-- esfera de radio ligeramente mayor para evitar que penetre el suelo -->
        <sphere radius="0.015"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

  <!-- junta del tobillo trasero derecho -->
  <joint name="frontRight_ankle_joint" type="revolute">
    <parent link="frontRight_connector"/>
    <child  link="frontRight_ankle"/>
    <origin xyz="0.07 0 0" rpy="-0.0032 0 3"/>
    <axis  xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="15" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
      <soft_lower_limit>-3.0</soft_lower_limit>
      <soft_upper_limit> 3.0</soft_upper_limit>
      <k_position>50.0</k_position>
      <k_velocity>10.0</k_velocity>
    </safety>
  </joint>
  

  <link name="frontRight_foot">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="2e-5" iyy="2e-5" izz="2e-5" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
        scale="1 1 1"/>
    </geometry>
    <surface>
      <friction>
        <ode>
          <mu>1.0</mu>
          <mu2>1.0</mu2>
        </ode>
      </friction>
      <contact>
        <ode>
          <kp>10</kp>
          <kd>50</kd>
        </ode>
      </contact>
    </surface>
    </collision>
  </link>
  <joint name="frontRight_foot_joint" type="fixed">
    <parent link="frontRight_ankle"/>
    <child  link="frontRight_foot"/>
    <origin xyz="-0.04  0 0" />
     
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>
  
  <link name="backLeft_hip_motor">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="0.035 0.035 -0.05" rpy="0 0 0"/> <!-- Altuura dentro -lado -->
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="0.035 0.035 -0.05" rpy="0 0 0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="backLeft_hip_motor_joint" type="revolute">
    <parent link="base_link"/>
    <child  link="backLeft_hip_motor"/>
    <origin xyz="-0.19 0.03 0.03" rpy="0 1.5708 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="backLeft_knee">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="backLeft_knee_joint" type="revolute">
    <parent link="backLeft_hip_motor"/>
    <child  link="backLeft_knee"/>
    <origin xyz="0.030 0.055 0.01" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.57" upper="1.57" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="backLeft_connector">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>

  </link>
  <joint name="backLeft_connectorJoin" type="fixed">
    <parent link="backLeft_knee"/>
    <child  link="backLeft_connector"/>
    <origin xyz="0.05 0 0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
  </joint>

  <link name="backLeft_ankle_fixed">

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01384  0.01866  -0.07289" rpy="-0.08910  0.080  0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>

   </link>
  <joint name="backLeft_ankle_joint_fixed" type="fixed">
    <parent link="backLeft_connector"/>
    <child  link="backLeft_ankle_fixed"/>
    <origin xyz="0.07 0 0" rpy="-0.0032  0  1.5"/>
    <axis xyz="0 0 1"/>

  </joint>
  <!-- enlace del tobillo trasero derecho -->
  <link name="backLeft_ankle">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.05"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <!-- esfera de radio ligeramente mayor para evitar que penetre el suelo -->
        <sphere radius="0.015"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 0 " rpy=" 0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

  <!-- junta del tobillo trasero derecho -->
  <joint name="backLeft_ankle_joint" type="revolute">
    <parent link="backLeft_connector"/>
    <child  link="backLeft_ankle"/>
    <origin xyz="0.07 0 0" rpy="-0.0032 0 3"/>
    <axis  xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="15" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
      <soft_lower_limit>-3.0</soft_lower_limit>
      <soft_upper_limit> 3.0</soft_upper_limit>
      <k_position>50.0</k_position>
      <k_velocity>10.0</k_velocity>
    </safety>
  </joint>
  

  <link name="backLeft_foot">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="2e-5" iyy="2e-5" izz="2e-5" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
        scale="1 1 1"/>
    </geometry>
    <surface>
      <friction>
        <ode>
          <mu>1.0</mu>
          <mu2>1.0</mu2>
        </ode>
      </friction>
      <contact>
        <ode>
          <kp>10</kp>
          <kd>50</kd>
        </ode>
      </contact>
    </surface>
    </collision>
  </link>
  <joint name="backLeft_foot_joint" type="fixed">
    <parent link="backLeft_ankle"/>
    <child  link="backLeft_foot"/>
    <origin xyz="-0.04  0 0" />
     
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>
 
  <link name="backRight_hip_motor">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="0.035 0.021  -0.06" rpy="0 0 0"/>
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_7y.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="0.045 0.015  -0.06" rpy="0 0 0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_7y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="backRight_hip_motor_joint" type="revolute">
    <parent link="base_link"/>
    <child  link="backRight_hip_motor"/>
    <origin xyz="-0.19 -0.085 0.03" rpy="0 1.5708 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>
  
  <link name="backRight_knee">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.01937 -0.02363 -0.065" rpy="0 0 -1.587"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>
  <joint name="backRight_knee_joint" type="revolute">
    <parent link="backRight_hip_motor"/>
    <child  link="backRight_knee"/>
    <origin xyz="0.035 -0.045 0.01" rpy="1.5708 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.57" upper="1.57" effort="6" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
  </joint>

  <link name="backRight_connector">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
  </link>
  <joint name="backRight_connectorJoin" type="fixed">
    <parent link="backRight_knee"/>
    <child  link="backRight_connector"/>
    <origin xyz="0.05 0 0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>

  </joint>

  <link name="backRight_ankle_fixed">

    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
    <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
      <origin xyz="0.01384  0.01866  -0.07289" rpy="-0.08910  0.080  0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="1 1 1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.01384  0.01866  -0.07289" rpy="-0.08910  0.080  0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/servo_8y.stl"
          scale="0.1 0.1 0.1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
   </link>
  <joint name="backRight_ankle_joint_fixed" type="fixed">
    <parent link="backRight_connector"/>
    <child  link="backRight_ankle_fixed"/>
    <origin xyz="0.07 0 0" rpy="-0.0032  0  1.5"/>
    <axis xyz="0 0 1"/>

  </joint>
  <!-- enlace del tobillo trasero derecho -->
  <link name="backRight_ankle">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.05"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <!-- esfera de radio ligeramente mayor para evitar que penetre el suelo -->
        <sphere radius="0.015"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0  0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
  </link>

  <!-- junta del tobillo trasero derecho -->
  <joint name="backRight_ankle_joint" type="revolute">
    <parent link="backRight_connector"/>
    <child  link="backRight_ankle"/>
    <origin xyz="0.07 0 0" rpy="-0.0032 0 3"/>
    <axis  xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="15" velocity="1"/>
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
      <soft_lower_limit>-3.0</soft_lower_limit>
      <soft_upper_limit> 3.0</soft_upper_limit>
      <k_position>50.0</k_position>
      <k_velocity>10.0</k_velocity>
    </safety>
  </joint>
  
  <link name="backRight_foot">

    <inertial><mass value="0.05"/><origin xyz="0 0 0" rpy="0 0 0"/>
    <inertia ixx="2e-5" iyy="2e-5" izz="2e-5" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/> 
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="-0.03 -0.02  -0.01" rpy="0 0 -2.8"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/foot_4.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>10</kp>
            <kd>50</kd>
          </ode>
        </contact>
      </surface>
    </collision>
    </link>
  <joint name="backRight_foot_joint" type="fixed">

    <parent link="backRight_ankle"/>
    <child  link="backRight_foot"/>
    <origin xyz="-0.04  0 0" />
    <dynamics damping="0.05" friction="2.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <k_position> 50.0 </k_position>
    <k_velocity> 10.0  </k_velocity>
    </safety>
   </joint>


  <link name="M0_big_fixed">
    <inertial><mass value="0.158"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
    <origin xyz="0.04 0 -0.02" rpy="0 0 0"/>
    <geometry>
      <mesh
        filename="/home/edipo/Documents/Robot_URDF3/meshes/M0.stl"
        scale="1 1 1"/>
    </geometry>
    </visual>
    <collision>
      <origin xyz="0.04 0 -0.02" rpy="0 0 0"/>
      <geometry>
        <mesh
          filename="/home/edipo/Documents/Robot_URDF3/meshes/M0.stl"
          scale="1 1 1"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu>
            <mu2>1.0</mu2>
          </ode>
        </friction>
        <contact>
          <ode>
            <kp>200</kp>
            <kd>100</kd>
      
          </ode>
        </contact>
      </surface>
    </collision>
    </link>
  <joint name="articulacion1_fixed" type="fixed">
    <parent link="base_link"/>
    <child  link="M0_big_fixed"/>
    <origin xyz="0 -0.03 0.1" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>

    </joint>
  <link name="M0_big">
       <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
     </link>
  <joint name="articulacion1" type="revolute">
    <parent link="M0_big_fixed"/>
    <child  link="M0_big"/>
    <origin xyz="0 0 0" rpy="0 3.14 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="49" velocity="1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
    <soft_lower_limit>-1.0</soft_lower_limit>
    <soft_upper_limit> 1.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
     </joint>

  <link name="Motor_square">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.05"/>
      <!-- inercia muy pequeña, solo para que no lo bote el parser -->
      <inertia ixx="1e-6" iyy="1e-6" izz="1e-6" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0.005 0.005 0.04" rpy="0 -3.14  0.000000" />
      <geometry>
          <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/Motor_square.stl" />
      </geometry>
      <material name="Motor_square_visual_material">
          <color rgba="1.000000 1.000000 1.000000 1.0" />
      </material>
      <collision><geometry><box size="0.05 0.05 0.05" /></geometry>
        <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>200</kp><kd>100</kd>
      </ode></contact></surface>
      </collision>
      </visual>
     </link>
  <joint name="Motor_square_Join" type="fixed">
    <parent link="M0_big"/>
    <child  link="Motor_square"/>
    <origin xyz="0.000000 0.000000 -0.01000" rpy="3.141592 3.141592 0.000000" />
    <axis xyz="0 0 1"/>

   </joint> 

  <link name="M1_100">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.05"/>
      <!-- inercia muy pequeña, solo para que no lo bote el parser -->
      <inertia ixx="1e-6" iyy="1e-6" izz="1e-6" ixy="0" ixz="0" iyz="0"/>
    </inertial>
    <visual>
      <origin xyz="0.005 0.005 0.04" rpy="0 -3.14  0.000000" />
      <geometry>
          <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/Motor_square.stl" />
      </geometry>
      <material name="Motor_square_visual_material">
          <color rgba="1.000000 1.000000 1.000000 1.0" />
      </material>
      <collision><geometry><box size="0.05 0.05 0.05" /></geometry>
        <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>200</kp><kd>100</kd>
      </ode></contact></surface>
      </collision>
      </visual>
     </link>
  <joint name="articulacion2" type="revolute">
    <parent link="Motor_square"/>
    <child  link="M1_100"/>
    <origin xyz="0.000000 -0.000000 -0.02000" rpy="-1.588239 3.142206 -3.106692" />
    <axis xyz="0 0 1"/>
   <limit lower="-1.14" upper="1.14" effort="15" velocity="1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
    <soft_lower_limit>-1.0</soft_lower_limit>
    <soft_upper_limit> 1.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
    </joint>
  
  <link name="Connector_1">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual>
        <origin xyz="0 0  0.000000" rpy="-0.000000 1.578000 -0.000000" />
        <geometry>
            <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/arqticulacion2.stl" />
        </geometry>
        <material name="Connector_1_visual_material">
            <color rgba="1.000000 1.000000 1.000000 1.0" />
        </material>
    </visual>
    </link>
  <joint name="Connector_1_join" type="fixed">
    <parent link="M1_100"/>
    <child  link="Connector_1"/>
    <origin xyz="0 0 -0.000000" rpy="3.141593 3.141593 3.141593" />
    <axis xyz="0 0 1"/>

    </joint>

  <link name="M2_100_fixed">
    <inertial>
      <origin xyz="0 0 0 " rpy="0 0 0" />
      <inertia ixy="0.0" ixz="0.0" ixx="0.00016" izz="0.00016" iyz="0.0" iyy="0.00016" />
      <mass value="0.158" />
    </inertial>
    <visual>
    <origin xyz="-0.020 -0.100  -0.005" rpy="1.590040 3.105429 3.14" />
    <geometry>
        <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/arqticulacion3.stl"/>
    </geometry>
    <material name="M2_100_visual_material">
        <color rgba="1.000000 1.000000 1.000000 1.0" />
    </material>
    </visual>
     </link>
  <joint name="articulacion3_fixed" type="fixed">
    <parent link="Connector_1"/>
    <child  link="M2_100_fixed"/>
    <origin xyz="-0.004 -0.335 0.0059" rpy="3.141593 3.141593 0.098574" />
    <limit lower="-1.14" upper="1.14" effort="6" velocity="1"/>
    <axis xyz="0 0 1"/>

     </joint>
  <link name="M2_100">
        <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
    </link>
  <joint name="articulacion3" type="revolute">
    <parent link="M2_100_fixed"/>
    <child  link="M2_100"/>
    <origin xyz="-0.02 -0.03 -0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="15" velocity="1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
    <soft_lower_limit>-1.0</soft_lower_limit>
    <soft_upper_limit> 1.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
    </joint>

  <link name="M3_50_fixed">
    <inertial>
      <origin xyz="0 0 0 " rpy="0 0 0" />
      <inertia ixy="0.0" ixz="0.0" ixx="0.00016" izz="0.00016" iyz="0.0" iyy="0.00016" />
      <mass value="0.158" />
    </inertial>
    <visual>
        <origin xyz="-0.005625 0.070702 0.008913" rpy="-1.576258 3.210993 -3.106576" />
        <geometry>
            <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/arqticulacion4.stl" />
        </geometry>
        <material name="M3_50_visual_material">
            <color rgba="1.000000 1.000000 1.000000 1.0" />
        </material>
    </visual>
    </link>
  <joint name="articulacion4_fixed" type="fixed">
    <parent link="M2_100"/>
    <child  link="M3_50_fixed"/>
    <origin xyz="0.012922 0.071422 -0.000218" rpy="-2.768763 4.595309 -0.481668" />
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="6" velocity="1"/>
     </joint>
  <link name="M3_50">
        <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
    </link>
  <joint name="articulacion4" type="revolute">
    <parent link="M3_50_fixed"/>
    <child  link="M3_50"/>
    <origin xyz="0 0 0" rpy="0 3 0" />
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="6" velocity="1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
      <soft_lower_limit>-1.0</soft_lower_limit>
      <soft_upper_limit> 1.0</soft_upper_limit>
      <param name="pos_kp">10</param>
      <param name="pos_ki">1</param>
      <param name="pos_kd">2</param>
      <param name="pos_max_integral_error">10000</param>
      <param name="vel_kp">10</param>
      <param name="vel_ki">5</param>
      <param name="vel_kd">2</param>
      <param name="vel_max_integral_error">10000</param>
    </safety>
    </joint>

  <link name="Connector_2">
    <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
        <collision>
            <origin xyz="-0.034313 -0.064453 0.015465" rpy="1.564268 3.144637 2.705270" />
            <geometry>
                <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/connector2.stl" />
            </geometry>
        </collision>
        <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode>
    </friction><contact><ode><kp>200</kp><kd>100</kd>
      </ode></contact></surface>
        <visual>
            <origin xyz="-0.034313 -0.064453 0.015465" rpy="1.564268 3.144637 1" />
            <geometry>
                <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/connector2.stl" />
            </geometry>
            <material name="Connector_2_visual_material">
                <color rgba="1.000000 1.000000 1.000000 1.0" />
            </material>
        </visual>
    </link>
  <joint name="Connector_2_join" type="fixed">
    <parent link="M3_50"/>
    <child  link="Connector_2"/>
    <origin xyz="-0.005625 0.070702 -0.01" rpy="3.107243 3.130790 -2.619391" />
    <axis xyz="0 0 1"/>
   
    </joint>

  <link name="M4_50_fixed">
    <inertial>
      <origin xyz="0.000000 0.060000 -0.030000" rpy="-1.570796 3.141593 3.141593" />
      <inertia ixy="0.0" ixz="0.0" ixx="0.00016" izz="0.00016" iyz="0.0" iyy="0.00016" />
      <mass value="0.158" />
    </inertial>
    
    <visual>
      <origin xyz="0.000000 0.060000 0.030000" rpy="-1.570796 3.0 3.141593" />
        <geometry>
            <mesh filename="/home/edipo/Documents/Robot_URDF3/meshes/articulacion5.stl" />
        </geometry>
        <material name="M3_50_visual_material">
            <color rgba="1.000000 1.000000 1.000000 1.0" />
        </material>
    </visual>
    </link>
  <joint name="articulacion5_fixed" type="fixed">
    <parent link="Connector_2"/>
    <child  link="M4_50_fixed"/>
    <origin xyz="-0.03 -0.062830 0.290000" rpy="1.570798 3.141596 -0.4" />
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="6" velocity="1"/>
    </joint>
  <link name="M4_50">
        <inertial><mass value="0.05"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual ><geometry><box size="0.03 0.03 0.03" /></geometry></visual>
    <collision><geometry><box size="0.03 0.03 0.03" /></geometry>
    <surface><friction><ode><mu>1.0</mu><mu2>1.0</mu2></ode></friction><contact><ode><kp>10</kp><kd>50</kd></ode></contact></surface>
    </collision>
     </link>
  <joint name="articulacion5" type="revolute">
    <parent link="M4_50_fixed"/>
    <child  link="M4_50"/>
    <origin xyz="0 0 0" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <limit lower="-1.14" upper="1.14" effort="6" velocity="1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
    <soft_lower_limit>-1.0</soft_lower_limit>
    <soft_upper_limit> 1.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
    </joint>

  <link name="endEfector">
    <inertial><mass value="0.08158"/><origin xyz="0 0 0"/>
      <inertia ixx="0.00016" iyy="0.00016" izz="0.00016" ixy="0" ixz="0" iyz="0"/></inertial>
    <visual   ><geometry><box size=" 0.05  0.05 0.05" /></geometry></visual>

     </link>
  <joint name="endEfectorJoin" type="fixed">
    <parent link="M4_50"/>
    <child  link="endEfector"/>
    <origin xyz="0 -0.05 0.03" rpy="0 0 0" />
    <axis xyz="0 0 1"/>
    <dynamics damping="2.05" friction="6.5"/>
    <safety>
    <soft_lower_limit>-3.0</soft_lower_limit>
    <soft_upper_limit> 3.0</soft_upper_limit>
    <param name="pos_kp">10</param>
    <param name="pos_ki">1</param>
    <param name="pos_kd">2</param>
    <param name="pos_max_integral_error">10000</param>
    <param name="vel_kp">10</param>
    <param name="vel_ki">5</param>
    <param name="vel_kd">2</param>
    <param name="vel_max_integral_error">10000</param>
    </safety>
    </joint>
  <!-- Plugin para Gazebo ROS 2 Control -->
  <ros2_control name="QuadrupedArmHardware" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>

    <!-- Interfaces de todas las articulaciones (piernas + brazo) -->
    <joint name="frontLeft_hip_motor_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="frontLeft_knee_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="frontLeft_ankle_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="frontRight_hip_motor_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="frontRight_knee_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="frontRight_ankle_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backLeft_hip_motor_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backLeft_knee_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backLeft_ankle_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backRight_hip_motor_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backRight_knee_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="backRight_ankle_joint">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="articulacion1">
    
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="articulacion2">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="articulacion3">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="articulacion4">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
    <joint name="articulacion5">
      <command_interface name="effort"/>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>  
    </joint>
  </ros2_control>

<!-- Pierna frontal izquierda -->
  <transmission name="frontLeft_hip_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontLeft_hip_motor_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontLeft_hip_motor_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="frontLeft_knee_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontLeft_knee_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontLeft_knee_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="frontLeft_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontLeft_ankle_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontLeft_ankle_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <!-- Pierna frontal derecha -->
  <transmission name="frontRight_hip_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontRight_hip_motor_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontRight_hip_motor_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="frontRight_knee_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontRight_knee_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontRight_knee_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="frontRight_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="frontRight_ankle_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="frontRight_ankle_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <!-- Pierna trasera izquierda -->
  <transmission name="backLeft_hip_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backLeft_hip_motor_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backLeft_hip_motor_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="backLeft_knee_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backLeft_knee_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backLeft_knee_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="backLeft_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backLeft_ankle_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backLeft_ankle_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <!-- Pierna trasera derecha -->
  <transmission name="backRight_hip_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backRight_hip_motor_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backRight_hip_motor_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="backRight_knee_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backRight_knee_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backRight_knee_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="backRight_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="backRight_ankle_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="backRight_ankle_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <!-- Brazo -->
  <transmission name="arm_joint1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="articulacion1">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_joint1_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_joint2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="articulacion2">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_joint2_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_joint3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="articulacion3">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_joint3_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_joint4_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="articulacion4">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_joint4_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_joint5_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="articulacion5">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_joint5_actuator">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
      <robot_sim_type>gazebo_ros2_control/GazeboSystem</robot_sim_type>
      <hold_joints>true</hold_joints>
      <parameters>/home/edipo/ros2_orange/src/quadruped_arm_motion/config/controllers.yaml</parameters>
    </plugin>
  <physics type="bullet">
    <!-- habilita split impulse para evitar penetraciones bruscas -->
    <bullet>
      <split_impulse>1</split_impulse>
      <!-- a partir de qué penetración aplicar impulso -->
      <split_impulse_penetration_threshold>0.1</split_impulse_penetration_threshold>
      <!-- iteraciones del solver (más = más estable/lento) -->
      <solver_iterations>1000</solver_iterations>
      <solver_velocity_iterations>50</solver_velocity_iterations>
    </bullet>
    <max_contacts>200</max_contacts>
    <contact_surface_layer>0.001</contact_surface_layer>
    <contact_max_correcting_vel>1.0</contact_max_correcting_vel>
    </physics>
  </gazebo>
  
</robot>